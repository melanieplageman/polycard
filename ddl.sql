DROP TABLE IF EXISTS flashcard CASCADE;
CREATE TABLE flashcard (
  id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY
);

DROP TABLE IF EXISTS side;
CREATE TABLE side (
  id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  flashcard_id INTEGER REFERENCES flashcard(id) ON DELETE CASCADE,
  text TEXT,
  format TEXT NOT NULL DEFAULT 'text' CHECK (format IN ('text', 'ruby'))
);

